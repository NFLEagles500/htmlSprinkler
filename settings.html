{% args valveTemp, startHourOptions, startMinOptions, endHourOptions, endMinOptions %} <!-- , startHour, startMin, endHour, endMin -->
<!DOCTYPE html>
<html>
<head>
	<title>Mister settings</title>
</head>
<body>
<h2>Chicken Mister Settings</h2>

<form enctype="text/plain" id="setts" method="post" name="misterSettings">
<p>When temp above:&nbsp;<select name="toggleTemp">{{ valveTemp }}</select></p>

<p>Start Time:&nbsp; &nbsp;<select name="startHour">{{ startHourOptions }}</select>&nbsp;:&nbsp;<select name="startMin">{{ startMinOptions }}</select></p>

<p>End Time:&nbsp; &nbsp;<select name="endHour">{{ endHourOptions }}</select>&nbsp;:&nbsp;<select name="endMin">{{ endMinOptions }}</select></p>

<!-- <p>Every&nbsp;<select name="interval"><option value="10">10 minutes</option><option value="20">20 minutes</option><option value="30">30 minutes</option><option value="45">45 minutes</option><option selected="selected" value="60">1 hour</option><option value="120">2 hours</option></select>, run misters for&nbsp;<select name="mistersOnMinutes"><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option selected="selected" value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option><option value="32">32</option><option value="33">33</option><option value="34">34</option><option value="35">35</option><option value="36">36</option><option value="37">37</option><option value="38">38</option><option value="39">39</option><option value="40">40</option><option value="41">41</option><option value="42">42</option><option value="43">43</option><option value="44">44</option><option value="45">45</option><option value="46">46</option><option value="47">47</option><option value="48">48</option><option value="49">49</option><option value="50">50</option><option value="51">51</option><option value="52">52</option><option value="53">53</option><option value="54">54</option><option value="55">55</option><option value="56">56</option><option value="57">57</option><option value="58">58</option><option value="59">59</option><option value="60">60</option></select>&nbsp;minutes&nbsp;</p> --><label for="interval">For every:</label> <select id="interval" onchange="updateMistersOnMinutesOptions()"><option value="10">10 minutes</option><option value="20">20 minutes</option><option value="30">30 minutes</option><option value="45">45 minutes</option><option value="60">1 hour</option><option value="120">2 hours</option> </select> <label for="mistersOnMinutes">run misters for:</label> <select id="mistersOnMinutes"></select> minutes <script>
    function updateMistersOnMinutesOptions() {
      const intervalSelect = document.getElementById('interval');
      const mistersOnMinutesSelect = document.getElementById('mistersOnMinutes');
      const selectedInterval = parseInt(intervalSelect.value);

      mistersOnMinutesSelect.innerHTML = '';

      for (let i = 1; i <= 60; i++) {
        if (i <= selectedInterval) {
          const option = document.createElement('option');
          option.value = i;
          option.textContent = i;
          mistersOnMinutesSelect.appendChild(option);
        }
      }
    }

    // Call the function initially to set the initial options
    updateMistersOnMinutesOptions();

    // Add an event listener to the "interval" select in case the user changes the selection
    document.getElementById('interval').addEventListener('change', updateMistersOnMinutesOptions);
  </script>

<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<input name="submitForm" type="submit" value="Submit" /></p>
</form>

<p>&nbsp;</p>

<p>&nbsp;</p>
</body>
</html>
